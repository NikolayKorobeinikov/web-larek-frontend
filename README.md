# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
Приложение построено по архитектурному паттерну **MVP (Model-View-Presenter)**.  

- **Model** — бизнес-логика и данные;
- **View** — отображение и взаимодействие с DOM;
- **Presenter** — посредник, обрабатывающий события и управляющий обновлением модели и представления.


## Модели (Model)

### `ProductModel`
Хранит список товаров, полученных с сервера.

- **Поля:**
  - `products: IProduct[]` — массив объектов товаров.

- **Методы:**
  - `setProducts(products: IProduct[])` — сохраняет список товаров.
  - `getAll()` — возвращает все товары.
  - `getProductById(id: string)` — находит товар по ID.


### `CartModel`
Отвечает за работу с корзиной товаров.

- **Поля:**
  - `cart: Record<string, number>` — словарь с ID товара и количеством.

- **Методы:**
  - `addToCart(id: string)` — добавляет товар или увеличивает его количество.
  - `removeFromCart(id: string)` — удаляет товар из корзины.
  - `getItems()` — возвращает содержимое корзины.
  - `clearCart()` — очищает корзину.


### `OrderModel`
Управляет состоянием и данными формы заказа.

- **Поля:**
  - `formData: IOrderForm` — объект с данными формы (имя, телефон, адрес).

- **Методы:**
  - `setFormData(data: IOrderForm)` — сохраняет данные формы.
  - `getFormData()` — возвращает текущие данные формы.
  - `submit()` — отправка заказа (например, через API).

## Представления (View)

### `ProductListView`
Отображает список товаров каталога.

- `render(products: IProduct[])` — отрисовывает карточки товаров.

### `CartView`
Отображает содержимое корзины.

- `render(items: IBasketItem[])` — показывает товары.
- `remove(handler)` — подписка на удаление товара.
- `submit(handler)` — подписка на оформление заказа.

### `OrderFormView`
Отображает форму заказа и предоставляет доступ к её данным.

- `render()` — отрисовывает форму.
- `bindSubmit(handler)` — подписка на отправку формы.
- `getFormData()` — получает значения из полей формы.

## Связь между слоями (Presenter)

Вся логика взаимодействия между `Model` и `View` реализована в файле `index.ts` с использованием `EventEmitter`.

`Presenter` слушает события от представлений (View), обновляет данные в моделях и инициирует перерисовку соответствующих компонентов.
       
